@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Identity
@using Microsoft.CodeAnalysis.CSharp.Syntax
@inject IAuthorizationService AuthorizationService
@{
    ViewData["Title"] = "Home Page";
}
<div>
    <h1>Welcome to embedded stock staff site</h1>
    @if ((await AuthorizationService.AuthorizeAsync(User, "AdminOnly")).Succeeded)
    {
        <p>Welcome admin </p>
        <p>If you wish to promote a new user to become an admin, just enter the email in the field below and click submit</p>
        <input value class="form-control" />
        <button type="submit" asp-action="PromoteToAdmin"> Promote </button>
    }
    else
    {
        <p>To do admin stuff you will have to login :) You big silly</p>   
    }
</div>